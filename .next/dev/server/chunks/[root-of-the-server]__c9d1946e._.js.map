{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/lib/db-adapter.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\n\nconst prismaClientSingleton = () => {\n  return new PrismaClient()\n}\n\ndeclare global {\n  var prisma: undefined | ReturnType<typeof prismaClientSingleton>\n}\n\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\n\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma\n\nexport const db = {\n  event: {\n    create: async (data: any) => {\n      return prisma.event.create({ data })\n    },\n    findUnique: async (where: { id: string }) => {\n      return prisma.event.findUnique({ where })\n    },\n    findMany: async (options?: any) => {\n      return prisma.event.findMany({\n        orderBy: { createdAt: 'desc' },\n        ...options\n      })\n    },\n    update: async (params: { where: { id: string }; data: any }) => {\n      return prisma.event.update({\n        where: params.where,\n        data: params.data,\n      })\n    },\n    findUniqueWithClaims: async (where: { id: string }) => {\n      return prisma.event.findUnique({\n        where,\n        include: { claimedSeats: true },\n      })\n    },\n    findManyWithClaims: async () => {\n      return prisma.event.findMany({\n        include: { claimedSeats: true },\n        orderBy: { createdAt: 'desc' },\n      })\n    },\n  },\n  claimedSeat: {\n    create: async (data: any) => {\n      return prisma.claimedSeat.create({ data })\n    },\n    findFirst: async (where: any) => {\n      return prisma.claimedSeat.findFirst({ where })\n    },\n  },\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC5B,OAAO,IAAI,+JAAY;AACzB;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;AAEpC,wCAA2C,WAAW,MAAM,GAAG;AAExD,MAAM,KAAK;IAChB,OAAO;QACL,QAAQ,OAAO;YACb,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC;gBAAE;YAAK;QACpC;QACA,YAAY,OAAO;YACjB,OAAO,OAAO,KAAK,CAAC,UAAU,CAAC;gBAAE;YAAM;QACzC;QACA,UAAU,OAAO;YACf,OAAO,OAAO,KAAK,CAAC,QAAQ,CAAC;gBAC3B,SAAS;oBAAE,WAAW;gBAAO;gBAC7B,GAAG,OAAO;YACZ;QACF;QACA,QAAQ,OAAO;YACb,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC;gBACzB,OAAO,OAAO,KAAK;gBACnB,MAAM,OAAO,IAAI;YACnB;QACF;QACA,sBAAsB,OAAO;YAC3B,OAAO,OAAO,KAAK,CAAC,UAAU,CAAC;gBAC7B;gBACA,SAAS;oBAAE,cAAc;gBAAK;YAChC;QACF;QACA,oBAAoB;YAClB,OAAO,OAAO,KAAK,CAAC,QAAQ,CAAC;gBAC3B,SAAS;oBAAE,cAAc;gBAAK;gBAC9B,SAAS;oBAAE,WAAW;gBAAO;YAC/B;QACF;IACF;IACA,aAAa;QACX,QAAQ,OAAO;YACb,OAAO,OAAO,WAAW,CAAC,MAAM,CAAC;gBAAE;YAAK;QAC1C;QACA,WAAW,OAAO;YAChB,OAAO,OAAO,WAAW,CAAC,SAAS,CAAC;gBAAE;YAAM;QAC9C;IACF;AACF"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/app/api/events/%5Bid%5D/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { db } from \"@/lib/db-adapter\"\n\nexport async function GET(request: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const { id } = await params\n  try {\n    const event = await db.event.findUniqueWithClaims({\n      id,\n    })\n\n    if (!event) {\n      return NextResponse.json({ error: \"Event not found\" }, { status: 404 })\n    }\n\n    return NextResponse.json(event)\n  } catch (error) {\n    console.error(\"Error fetching event:\", error)\n    return NextResponse.json({ error: \"Failed to fetch event\" }, { status: 500 })\n  }\n}\n\nexport async function PATCH(request: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const { id } = await params\n  try {\n    const data = await request.json()\n\n    const event = await db.event.update({\n      where: { id },\n      data: {\n        eventDate: data.eventDate,\n        eventTime: data.eventTime,\n        hasTimer: true,\n      },\n    })\n\n    return NextResponse.json({\n      ...event,\n      claimedSeats: [],\n    })\n  } catch (error) {\n    console.error(\"Error updating event:\", error)\n    return NextResponse.json({ error: \"Failed to update event\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB,EAAE,EAAE,MAAM,EAAuC;IAC7F,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,IAAI;QACF,MAAM,QAAQ,MAAM,4HAAE,CAAC,KAAK,CAAC,oBAAoB,CAAC;YAChD;QACF;QAEA,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF;AAEO,eAAe,MAAM,OAAoB,EAAE,EAAE,MAAM,EAAuC;IAC/F,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,QAAQ,MAAM,4HAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YAClC,OAAO;gBAAE;YAAG;YACZ,MAAM;gBACJ,WAAW,KAAK,SAAS;gBACzB,WAAW,KAAK,SAAS;gBACzB,UAAU;YACZ;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,GAAG,KAAK;YACR,cAAc,EAAE;QAClB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF"}}]
}