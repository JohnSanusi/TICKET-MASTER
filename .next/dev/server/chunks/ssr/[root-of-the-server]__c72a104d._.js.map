{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/lib/db-adapter.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\n\nconst prismaClientSingleton = () => {\n  return new PrismaClient()\n}\n\ndeclare global {\n  var prisma: undefined | ReturnType<typeof prismaClientSingleton>\n}\n\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\n\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma\n\nexport const db = {\n  event: {\n    create: async (data: any) => {\n      return prisma.event.create({ data })\n    },\n    findUnique: async (where: { id: string }) => {\n      return prisma.event.findUnique({ where })\n    },\n    findMany: async (options?: any) => {\n      return prisma.event.findMany({\n        orderBy: { createdAt: 'desc' },\n        ...options\n      })\n    },\n    update: async (params: { where: { id: string }; data: any }) => {\n      return prisma.event.update({\n        where: params.where,\n        data: params.data,\n      })\n    },\n    findUniqueWithClaims: async (where: { id: string }) => {\n      return prisma.event.findUnique({\n        where,\n        include: { claimedSeats: true },\n      })\n    },\n    findManyWithClaims: async () => {\n      return prisma.event.findMany({\n        include: { claimedSeats: true },\n        orderBy: { createdAt: 'desc' },\n      })\n    },\n  },\n  claimedSeat: {\n    create: async (data: any) => {\n      return prisma.claimedSeat.create({ data })\n    },\n    findFirst: async (where: any) => {\n      return prisma.claimedSeat.findFirst({ where })\n    },\n  },\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC5B,OAAO,IAAI,6JAAY;AACzB;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;AAEpC,wCAA2C,WAAW,MAAM,GAAG;AAExD,MAAM,KAAK;IAChB,OAAO;QACL,QAAQ,OAAO;YACb,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC;gBAAE;YAAK;QACpC;QACA,YAAY,OAAO;YACjB,OAAO,OAAO,KAAK,CAAC,UAAU,CAAC;gBAAE;YAAM;QACzC;QACA,UAAU,OAAO;YACf,OAAO,OAAO,KAAK,CAAC,QAAQ,CAAC;gBAC3B,SAAS;oBAAE,WAAW;gBAAO;gBAC7B,GAAG,OAAO;YACZ;QACF;QACA,QAAQ,OAAO;YACb,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC;gBACzB,OAAO,OAAO,KAAK;gBACnB,MAAM,OAAO,IAAI;YACnB;QACF;QACA,sBAAsB,OAAO;YAC3B,OAAO,OAAO,KAAK,CAAC,UAAU,CAAC;gBAC7B;gBACA,SAAS;oBAAE,cAAc;gBAAK;YAChC;QACF;QACA,oBAAoB;YAClB,OAAO,OAAO,KAAK,CAAC,QAAQ,CAAC;gBAC3B,SAAS;oBAAE,cAAc;gBAAK;gBAC9B,SAAS;oBAAE,WAAW;gBAAO;YAC/B;QACF;IACF;IACA,aAAa;QACX,QAAQ,OAAO;YACb,OAAO,OAAO,WAAW,CAAC,MAAM,CAAC;gBAAE;YAAK;QAC1C;QACA,WAAW,OAAO;YAChB,OAAO,OAAO,WAAW,CAAC,SAAS,CAAC;gBAAE;YAAM;QAC9C;IACF;AACF"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/lib/constants.ts"],"sourcesContent":["export const ROWS = [\"A\", \"B\", \"C\", \"D\", \"E\"]\nexport const SEATS_PER_ROW = 10\n\nexport function generateDefaultSeatMap() {\n  const seats = []\n  for (const row of ROWS) {\n    for (let num = 1; num <= SEATS_PER_ROW; num++) {\n      seats.push({ row, num, available: true })\n    }\n  }\n  return seats\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,OAAO;IAAC;IAAK;IAAK;IAAK;IAAK;CAAI;AACtC,MAAM,gBAAgB;AAEtB,SAAS;IACd,MAAM,QAAQ,EAAE;IAChB,KAAK,MAAM,OAAO,KAAM;QACtB,IAAK,IAAI,MAAM,GAAG,OAAO,eAAe,MAAO;YAC7C,MAAM,IAAI,CAAC;gBAAE;gBAAK;gBAAK,WAAW;YAAK;QACzC;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/app/actions/events.ts"],"sourcesContent":["\"use server\"\n\nimport { db } from \"@/lib/db-adapter\"\nimport { generateDefaultSeatMap } from \"@/lib/constants\"\n\nexport async function createEvent(data: {\n  title: string\n  description: string\n  location: string\n  date: string\n  time: string\n  image?: string\n  hasTimer?: boolean\n  eventDate?: string\n  eventTime?: string\n}) {\n  try {\n    console.log('[Server Action] Creating event with data:', data)\n    const seatMap = generateDefaultSeatMap()\n\n    const event = await db.event.create({\n      title: data.title,\n      description: data.description,\n      location: data.location,\n      date: data.date,\n      time: data.time,\n      image: data.image || null,\n      seatMap: JSON.stringify(seatMap),\n      hasTimer: data.hasTimer || false,\n      eventDate: data.eventDate || null,\n      eventTime: data.eventTime || null,\n    })\n\n    console.log('[Server Action] Event created successfully:', event)\n    return event\n  } catch (error) {\n    console.error('[Server Action] Error creating event:', error)\n    throw error\n  }\n}\n\nexport async function addTimerToEvent(eventId: string, eventDate: string, eventTime: string) {\n  const event = await db.event.update({\n    where: { id: eventId },\n    data: {\n      eventDate,\n      eventTime,\n      hasTimer: true,\n    },\n  })\n\n  return event\n}\n\nexport async function claimSeat(eventId: string, seatRow: string, seatNum: number, email: string, name: string) {\n  const ticketId = `TKT-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n\n  const existingClaim = await db.claimedSeat.findFirst({\n    eventId,\n    seatRow,\n    seatNum,\n  })\n\n  if (existingClaim) {\n    throw new Error(\"Seat already claimed\")\n  }\n\n  const claim = await db.claimedSeat.create({\n    eventId,\n    seatRow,\n    seatNum,\n    email,\n    name,\n    ticketId,\n  })\n\n  return claim\n}\n\nexport async function getEventById(eventId: string) {\n  const event = await db.event.findUniqueWithClaims({\n    id: eventId,\n  })\n\n  return event\n}\n\nexport async function getAllEvents() {\n  const events = await db.event.findManyWithClaims()\n  return events\n}\n\nexport async function deleteEvent(eventId: string) {\n  try {\n    await db.event.delete({\n      where: { id: eventId },\n    })\n    return { success: true }\n  } catch (error) {\n    console.error(\"Failed to delete event:\", error)\n    return { success: false, error: \"Failed to delete event\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;;;;;AAEO,eAAe,YAAY,IAUjC;IACC,IAAI;QACF,QAAQ,GAAG,CAAC,6CAA6C;QACzD,MAAM,UAAU,IAAA,0IAAsB;QAEtC,MAAM,QAAQ,MAAM,0HAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YAClC,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,WAAW;YAC7B,UAAU,KAAK,QAAQ;YACvB,MAAM,KAAK,IAAI;YACf,MAAM,KAAK,IAAI;YACf,OAAO,KAAK,KAAK,IAAI;YACrB,SAAS,KAAK,SAAS,CAAC;YACxB,UAAU,KAAK,QAAQ,IAAI;YAC3B,WAAW,KAAK,SAAS,IAAI;YAC7B,WAAW,KAAK,SAAS,IAAI;QAC/B;QAEA,QAAQ,GAAG,CAAC,+CAA+C;QAC3D,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,MAAM;IACR;AACF;AAEO,eAAe,gBAAgB,OAAe,EAAE,SAAiB,EAAE,SAAiB;IACzF,MAAM,QAAQ,MAAM,0HAAE,CAAC,KAAK,CAAC,MAAM,CAAC;QAClC,OAAO;YAAE,IAAI;QAAQ;QACrB,MAAM;YACJ;YACA;YACA,UAAU;QACZ;IACF;IAEA,OAAO;AACT;AAEO,eAAe,UAAU,OAAe,EAAE,OAAe,EAAE,OAAe,EAAE,KAAa,EAAE,IAAY;IAC5G,MAAM,WAAW,CAAC,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAE/E,MAAM,gBAAgB,MAAM,0HAAE,CAAC,WAAW,CAAC,SAAS,CAAC;QACnD;QACA;QACA;IACF;IAEA,IAAI,eAAe;QACjB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,QAAQ,MAAM,0HAAE,CAAC,WAAW,CAAC,MAAM,CAAC;QACxC;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,OAAO;AACT;AAEO,eAAe,aAAa,OAAe;IAChD,MAAM,QAAQ,MAAM,0HAAE,CAAC,KAAK,CAAC,oBAAoB,CAAC;QAChD,IAAI;IACN;IAEA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,SAAS,MAAM,0HAAE,CAAC,KAAK,CAAC,kBAAkB;IAChD,OAAO;AACT;AAEO,eAAe,YAAY,OAAe;IAC/C,IAAI;QACF,MAAM,0HAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YACpB,OAAO;gBAAE,IAAI;YAAQ;QACvB;QACA,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,SAAS;YAAO,OAAO;QAAyB;IAC3D;AACF;;;IAjGsB;IAoCA;IAaA;IAyBA;IAQA;IAKA;;AAvFA,+OAAA;AAoCA,+OAAA;AAaA,+OAAA;AAyBA,+OAAA;AAQA,+OAAA;AAKA,+OAAA"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getAllEvents as '00d24d28afc19c17b87a20de98d043ab3d7d6347d9'} from 'ACTIONS_MODULE0'\nexport {deleteEvent as '401f3521f633135722aa5ed3bf148f0d28b638a84b'} from 'ACTIONS_MODULE0'\nexport {getEventById as '403021459a8a60094bbed7ee85bae8e65ea27b85ce'} from 'ACTIONS_MODULE0'\nexport {createEvent as '4061e8196633ed9f46baa304943579677933a4a4b1'} from 'ACTIONS_MODULE0'\nexport {addTimerToEvent as '702d90ba3b8981b5b7456d2a668cc7e0b00ede36af'} from 'ACTIONS_MODULE0'\nexport {claimSeat as '7c893b2743482298ce690eaa3c27d77a648b2885fb'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}