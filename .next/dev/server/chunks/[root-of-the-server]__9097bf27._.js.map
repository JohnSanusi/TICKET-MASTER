{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/lib/db-adapter.ts"],"sourcesContent":["// This will work without Prisma client generation in preview environments\nimport type { Event, Seat, ClaimedSeat } from \"@/types/db\"\n\nconst events: Event[] = []\nconst seats: Seat[] = []\nconst claimedSeats: ClaimedSeat[] = []\n\nexport const db = {\n  event: {\n    create: async (data: Omit<Event, \"id\" | \"createdAt\" | \"updatedAt\">) => {\n      const id = `evt_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n      const event: Event = {\n        id,\n        ...data,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      }\n      events.push(event)\n      return event\n    },\n    findUnique: async (where: { id: string }) => {\n      return events.find((e) => e.id === where.id) || null\n    },\n    findMany: async (options?: any) => {\n      return events.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())\n    },\n    update: async (data: { where: { id: string }; data: Partial<Event> }) => {\n      const event = events.find((e) => e.id === data.where.id)\n      if (!event) throw new Error(\"Event not found\")\n      Object.assign(event, data.data, { updatedAt: new Date() })\n      return event\n    },\n    findUniqueWithClaims: async (where: { id: string }) => {\n      const event = events.find((e) => e.id === where.id)\n      if (!event) return null\n      const eventClaims = claimedSeats.filter((c) => c.eventId === where.id)\n      return {\n        ...event,\n        claimedSeats: eventClaims,\n      }\n    },\n    findManyWithClaims: async () => {\n      return events.map((event) => {\n        const eventClaims = claimedSeats.filter((c) => c.eventId === event.id)\n        return {\n          ...event,\n          claimedSeats: eventClaims,\n        }\n      })\n    },\n  },\n  claimedSeat: {\n    create: async (data: Omit<ClaimedSeat, \"id\" | \"createdAt\">) => {\n      const id = `seat_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n      const claim: ClaimedSeat = {\n        id,\n        ...data,\n        createdAt: new Date(),\n      }\n      claimedSeats.push(claim)\n      return claim\n    },\n    findFirst: async (where: any) => {\n      return (\n        claimedSeats.find(\n          (s) => s.eventId === where.eventId && s.seatRow === where.seatRow && s.seatNum === where.seatNum,\n        ) || null\n      )\n    },\n  },\n}\n"],"names":[],"mappings":"AAAA,0EAA0E;;;;;AAG1E,MAAM,SAAkB,EAAE;AAC1B,MAAM,QAAgB,EAAE;AACxB,MAAM,eAA8B,EAAE;AAE/B,MAAM,KAAK;IAChB,OAAO;QACL,QAAQ,OAAO;YACb,MAAM,KAAK,CAAC,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;YACzE,MAAM,QAAe;gBACnB;gBACA,GAAG,IAAI;gBACP,WAAW,IAAI;gBACf,WAAW,IAAI;YACjB;YACA,OAAO,IAAI,CAAC;YACZ,OAAO;QACT;QACA,YAAY,OAAO;YACjB,OAAO,OAAO,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM,EAAE,KAAK;QAClD;QACA,UAAU,OAAO;YACf,OAAO,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,OAAO,KAAK,EAAE,SAAS,CAAC,OAAO;QAC1E;QACA,QAAQ,OAAO;YACb,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;YAC5B,OAAO,MAAM,CAAC,OAAO,KAAK,IAAI,EAAE;gBAAE,WAAW,IAAI;YAAO;YACxD,OAAO;QACT;QACA,sBAAsB,OAAO;YAC3B,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM,EAAE;YAClD,IAAI,CAAC,OAAO,OAAO;YACnB,MAAM,cAAc,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,MAAM,EAAE;YACrE,OAAO;gBACL,GAAG,KAAK;gBACR,cAAc;YAChB;QACF;QACA,oBAAoB;YAClB,OAAO,OAAO,GAAG,CAAC,CAAC;gBACjB,MAAM,cAAc,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,MAAM,EAAE;gBACrE,OAAO;oBACL,GAAG,KAAK;oBACR,cAAc;gBAChB;YACF;QACF;IACF;IACA,aAAa;QACX,QAAQ,OAAO;YACb,MAAM,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;YAC1E,MAAM,QAAqB;gBACzB;gBACA,GAAG,IAAI;gBACP,WAAW,IAAI;YACjB;YACA,aAAa,IAAI,CAAC;YAClB,OAAO;QACT;QACA,WAAW,OAAO;YAChB,OACE,aAAa,IAAI,CACf,CAAC,IAAM,EAAE,OAAO,KAAK,MAAM,OAAO,IAAI,EAAE,OAAO,KAAK,MAAM,OAAO,IAAI,EAAE,OAAO,KAAK,MAAM,OAAO,KAC7F;QAET;IACF;AACF"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///home/zen/Downloads/event-platform-build/app/api/events/%5Bid%5D/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { db } from \"@/lib/db-adapter\"\n\nexport async function GET(request: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const { id } = await params\n  try {\n    const event = await db.event.findUniqueWithClaims({\n      id,\n    })\n\n    if (!event) {\n      return NextResponse.json({ error: \"Event not found\" }, { status: 404 })\n    }\n\n    return NextResponse.json(event)\n  } catch (error) {\n    console.error(\"Error fetching event:\", error)\n    return NextResponse.json({ error: \"Failed to fetch event\" }, { status: 500 })\n  }\n}\n\nexport async function PATCH(request: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const { id } = await params\n  try {\n    const data = await request.json()\n\n    const event = await db.event.update({\n      where: { id },\n      data: {\n        eventDate: data.eventDate,\n        eventTime: data.eventTime,\n        hasTimer: true,\n      },\n    })\n\n    return NextResponse.json({\n      ...event,\n      claimedSeats: [],\n    })\n  } catch (error) {\n    console.error(\"Error updating event:\", error)\n    return NextResponse.json({ error: \"Failed to update event\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB,EAAE,EAAE,MAAM,EAAuC;IAC7F,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,IAAI;QACF,MAAM,QAAQ,MAAM,4HAAE,CAAC,KAAK,CAAC,oBAAoB,CAAC;YAChD;QACF;QAEA,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF;AAEO,eAAe,MAAM,OAAoB,EAAE,EAAE,MAAM,EAAuC;IAC/F,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,QAAQ,MAAM,4HAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YAClC,OAAO;gBAAE;YAAG;YACZ,MAAM;gBACJ,WAAW,KAAK,SAAS;gBACzB,WAAW,KAAK,SAAS;gBACzB,UAAU;YACZ;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,GAAG,KAAK;YACR,cAAc,EAAE;QAClB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF"}}]
}