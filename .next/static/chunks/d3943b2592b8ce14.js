(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},23750,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},18566,(e,t,r)=>{t.exports=e.r(76562)},70217,e=>{"use strict";var t=e.i(43476),r=e.i(22016),a=e.i(57688),s=e.i(70065);function n({id:e,title:n,date:i,time:l,location:o,image:d,isAdmin:c}){let u=c?`/help/${e}`:`/event/${e}`;return(0,t.jsx)(r.default,{href:u,children:(0,t.jsxs)(s.Card,{className:"overflow-hidden h-full flex flex-col group cursor-pointer hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-gray-200",children:[(0,t.jsx)("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:d&&"/placeholder.svg"!==d?(0,t.jsx)(a.default,{src:d||"/placeholder.svg",alt:n,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",unoptimized:!0}):(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"Event Image"})})}),(0,t.jsxs)(s.CardContent,{className:"p-4 flex-1 flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-bold text-base line-clamp-2 group-hover:text-blue-600 transition-colors",children:n}),(0,t.jsxs)("div",{className:"flex items-start gap-1.5 text-sm text-gray-600",children:[(0,t.jsx)("span",{children:"ðŸ“"}),(0,t.jsx)("span",{className:"line-clamp-1",children:o})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 pt-3 border-t border-gray-200",children:[(0,t.jsx)("span",{children:"ðŸ“…"}),(0,t.jsx)("span",{children:i}),l&&(0,t.jsx)("span",{className:"text-gray-400",children:"â€¢"}),l&&(0,t.jsx)("span",{children:l})]})]})]})})}e.s(["EventCard",()=>n])},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(32120),i=e.r(92245),l=e.r(35326)},2731,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(67881),s=e.i(23750),n=e.i(47163);function i({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var l=e.i(70065),o=e.i(95187),d=(0,o.createServerReference)("401b73206a0ddefb89029d23d1c0932daaa79ce402",o.callServer,void 0,o.findSourceMapURL,"createEvent"),c=e.i(18566),u=e.i(46696);function m(){let e=(0,c.useRouter)(),[n,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!0),[p,g]=(0,r.useState)({title:"",description:"",location:"",date:"",time:"",image:""}),[h,f]=(0,r.useState)({days:0,hours:0,minutes:0,seconds:0}),v=e=>{g({...p,[e.target.name]:e.target.value})},b=e=>{let{name:t,value:r}=e.target;f({...h,[t]:Number.parseInt(r)||0})},j=async t=>{t.preventDefault(),console.log("[Form] Submit button clicked"),o(!0);try{let t=p.date,r=p.time;if(m){console.log("[Form] Calculating timer duration:",h);let e=new Date,a=new Date(e.getTime()+24*h.days*36e5+60*h.hours*6e4+60*h.minutes*1e3+1e3*h.seconds);t=a.toISOString().split("T")[0],r=a.toTimeString().slice(0,5),console.log("[Form] Timer target:",{eventDate:t,eventTime:r})}let a={title:p.title,description:p.description,location:p.location,date:p.date,time:p.time,image:p.image,hasTimer:m,eventDate:t,eventTime:r};console.log("[Form] Calling createEvent with:",a);let s=await d(a);console.log("[Form] Event created successfully:",s),u.toast.success("Event created successfully!"),console.log("[Form] Navigating to:",`/event/${s.id}`),e.push(`/event/${s.id}`)}catch(e){console.error("[Form] Failed to create event:",e),u.toast.error(`Failed to create event: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}};return(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Create Event"}),(0,t.jsx)(l.CardDescription,{children:"Add a new event to the platform"})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Event Title"}),(0,t.jsx)(s.Input,{name:"title",value:p.title,onChange:v,placeholder:"Enter event title",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(i,{name:"description",value:p.description,onChange:v,placeholder:"Enter event description",required:!0,rows:4})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)(s.Input,{name:"location",value:p.location,onChange:v,placeholder:"Enter event location",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Display Date"}),(0,t.jsx)(s.Input,{name:"date",type:"date",value:p.date,onChange:v,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Display Time"}),(0,t.jsx)(s.Input,{name:"time",type:"time",value:p.time,onChange:v,required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2 p-4 border rounded-md bg-muted/20",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Countdown Duration"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Days"}),(0,t.jsx)(s.Input,{type:"number",name:"days",min:"0",value:h.days,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Hours"}),(0,t.jsx)(s.Input,{type:"number",name:"hours",min:"0",max:"23",value:h.hours,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Minutes"}),(0,t.jsx)(s.Input,{type:"number",name:"minutes",min:"0",max:"59",value:h.minutes,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Seconds"}),(0,t.jsx)(s.Input,{type:"number",name:"seconds",min:"0",max:"59",value:h.seconds,onChange:b})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"The timer will count down from the moment you create the event."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Event Image"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(s.Input,{type:"file",accept:"image/*",onChange:async e=>{let t=e.target.files?.[0];if(!t)return;console.log("[Upload] Starting upload for:",t.name);let r=new FormData;r.append("file",t);try{let e=await fetch("/api/upload",{method:"POST",body:r});if(console.log("[Upload] Response status:",e.status),e.ok){let t=await e.json();console.log("[Upload] Upload successful:",t),g(e=>({...e,image:t.url})),u.toast.success("Image uploaded successfully!")}else{let t=await e.text();console.error("[Upload] Upload failed:",t),u.toast.error(`Upload failed: ${t}`)}}catch(e){console.error("[Upload] Upload error:",e),u.toast.error(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload an image from your device"}),p.image&&p.image.startsWith("/uploads/")&&(0,t.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["âœ“ Image uploaded: ",p.image]})]})})]}),(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:n,children:n?"Creating...":"Create Event"})]})})]})}e.s(["CreateEventForm",()=>m],2731)}]);