(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},23750,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},18566,(e,t,r)=>{t.exports=e.r(76562)},46897,87316,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>r],46897);let a=(0,t.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],87316)},70217,e=>{"use strict";var t=e.i(43476),r=e.i(22016),a=e.i(57688),s=e.i(70065),n=e.i(46897),i=e.i(87316);function l({id:e,title:l,date:o,time:d,location:c,image:m,isAdmin:u}){let x=u?`/help/${e}`:`/event/${e}`;return(0,t.jsx)(r.default,{href:x,children:(0,t.jsxs)(s.Card,{className:"overflow-hidden h-full flex flex-col group cursor-pointer hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-gray-200",children:[(0,t.jsx)("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:m&&"/placeholder.svg"!==m?(0,t.jsx)(a.default,{src:m||"/placeholder.svg",alt:l,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",unoptimized:!0}):(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"Event Image"})})}),(0,t.jsxs)(s.CardContent,{className:"p-4 flex-1 flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-bold text-base line-clamp-2 group-hover:text-blue-600 transition-colors",children:l}),(0,t.jsxs)("div",{className:"flex items-start gap-1.5 text-sm text-gray-600",children:[(0,t.jsx)(n.MapPin,{className:"w-4 h-4 text-blue-600 shrink-0"}),(0,t.jsx)("span",{className:"line-clamp-1",children:c})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 pt-3 border-t border-gray-200",children:[(0,t.jsx)(i.Calendar,{className:"w-4 h-4 text-blue-600 shrink-0"}),(0,t.jsx)("span",{children:o}),d&&(0,t.jsx)("span",{className:"text-gray-400",children:"•"}),d&&(0,t.jsx)("span",{children:d})]})]})]})})}e.s(["EventCard",()=>l])},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(32120),i=e.r(92245),l=e.r(35326)},2731,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(67881),s=e.i(23750),n=e.i(47163);function i({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var l=e.i(70065),o=e.i(95187),d=(0,o.createServerReference)("401b73206a0ddefb89029d23d1c0932daaa79ce402",o.callServer,void 0,o.findSourceMapURL,"createEvent"),c=e.i(18566),m=e.i(46696);function u(){let e=(0,c.useRouter)(),[n,o]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!0),[p,h]=(0,r.useState)({artistName:"",title:"",description:"",location:"",date:"",time:"",image:"",maxTickets:50}),[f,g]=(0,r.useState)({days:0,hours:0,minutes:0,seconds:0}),v=e=>{let{name:t,value:r,type:a}=e.target;h({...p,[t]:"number"===a?Number(r):r})},b=e=>{let{name:t,value:r}=e.target;g({...f,[t]:Number.parseInt(r)||0})},j=async t=>{t.preventDefault(),console.log("[Form] Submit button clicked"),o(!0);try{let t=p.date,r=p.time;if(u){console.log("[Form] Calculating timer duration:",f);let e=new Date,a=new Date(e.getTime()+24*f.days*36e5+60*f.hours*6e4+60*f.minutes*1e3+1e3*f.seconds);t=a.toISOString().split("T")[0],r=a.toTimeString().slice(0,5),console.log("[Form] Timer target:",{eventDate:t,eventTime:r})}let a={artistName:p.artistName,title:p.title,description:p.description,location:p.location,date:p.date,time:p.time,image:p.image,maxTickets:p.maxTickets,hasTimer:u,eventDate:t,eventTime:r};console.log("[Form] Calling createEvent with:",a);let s=await d(a);console.log("[Form] Event created successfully:",s),m.toast.success("Event created successfully!"),console.log("[Form] Navigating to:",`/event/${s.id}`),e.push(`/event/${s.id}`)}catch(e){console.error("[Form] Failed to create event:",e),m.toast.error(`Failed to create event: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}};return(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Create Event"}),(0,t.jsx)(l.CardDescription,{children:"Add a new event to the platform"})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Artist Name"}),(0,t.jsx)(s.Input,{name:"artistName",value:p.artistName,onChange:v,placeholder:"Enter artist/performer name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Event Name"}),(0,t.jsx)(s.Input,{name:"title",value:p.title,onChange:v,placeholder:"Enter event name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(i,{name:"description",value:p.description,onChange:v,placeholder:"Enter event description",required:!0,rows:4})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)(s.Input,{name:"location",value:p.location,onChange:v,placeholder:"Enter event location",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Maximum Tickets"}),(0,t.jsx)(s.Input,{name:"maxTickets",type:"number",min:"1",max:"1000",value:p.maxTickets,onChange:v,placeholder:"Enter maximum number of tickets",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total number of tickets that can be generated for this event"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Display Date"}),(0,t.jsx)(s.Input,{name:"date",type:"date",value:p.date,onChange:v,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Display Time"}),(0,t.jsx)(s.Input,{name:"time",type:"time",value:p.time,onChange:v,required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2 p-4 border rounded-md bg-muted/20",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Countdown Duration"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Days"}),(0,t.jsx)(s.Input,{type:"number",name:"days",min:"0",value:f.days,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Hours"}),(0,t.jsx)(s.Input,{type:"number",name:"hours",min:"0",max:"23",value:f.hours,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Minutes"}),(0,t.jsx)(s.Input,{type:"number",name:"minutes",min:"0",max:"59",value:f.minutes,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Seconds"}),(0,t.jsx)(s.Input,{type:"number",name:"seconds",min:"0",max:"59",value:f.seconds,onChange:b})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"The timer will count down from the moment you create the event."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Event Image"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(s.Input,{type:"file",accept:"image/*",onChange:async e=>{let t=e.target.files?.[0];if(!t)return;console.log("[Upload] Starting upload for:",t.name);let r=new FormData;r.append("file",t);try{let e=await fetch("/api/upload",{method:"POST",body:r});if(console.log("[Upload] Response status:",e.status),e.ok){let t=await e.json();console.log("[Upload] Upload successful:",t),h(e=>({...e,image:t.url})),m.toast.success("Image uploaded successfully!")}else{let t=await e.text();console.error("[Upload] Upload failed:",t),m.toast.error(`Upload failed: ${t}`)}}catch(e){console.error("[Upload] Upload error:",e),m.toast.error(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload an image from your device"}),p.image&&p.image.startsWith("/uploads/")&&(0,t.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["✓ Image uploaded: ",p.image]})]})})]}),(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:n,children:n?"Creating...":"Create Event"})]})})]})}e.s(["CreateEventForm",()=>u],2731)}]);